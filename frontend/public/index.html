<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZYRA | Ultra‚ÄëAdvanced Quantum Blockchain Dashboard</title>
  <meta name="description" content="ZYRA ultra‚Äëadvanced quantum blockchain dashboard with live analytics, DeFi metrics, and adaptive quantum UI." />
  <meta name="theme-color" content="#0ea5ff" />
  <!-- Add Google Ad  <div class="dock" aria-label="Quick Controls">
    <button class="fab" title="Mining Stats" id="btnStats">üìä</  <div class="dock" aria-label="Quick Controls">
    <button class="fab" title="Music Player" id="btnMusic">üéµ</button>
    <button class="fab" title="Mining Stats" id="btnStats">üìä</button>
    <button class="fab" title="Rewards" id="btnRewards">üí∞</button>
    <button class="fab" title="Mining Pool" id="btnPool">üèä</button>
    <button class="fab" title="Settings" id="btnSettings">‚öôÔ∏è</button>
  </div>
    <button class="fab" title="Rewards" id="btnRewards">üí∞</button>
    <button class="fab" title="Mining Pool" id="btnPool">üèä</button>
    <button class="fab" title="Settings" id="btnSettings">‚öôÔ∏è</button>
  </div>eta tag -->
  <meta name="google-adsense-account" content="ca-pub-3998610367313946">
  <!-- Add Google AdSense script -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3998610367313946" crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600;700&family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <style>
    :root {
      --q-primary: #00ff95; /* neon green */
      --q-secondary: #16a34a; /* emerald */
      --q-accent: #84cc16; /* lime */
      --q-success: #22c55e;
      --q-danger: #ef4444;
      --q-bg-0: #050607; /* near black */
      --q-bg-1: #0a0f0a; /* black with green hint */
      --glass: rgba(255,255,255,0.06);
      --glass-strong: rgba(255,255,255,0.10);
      --glass-border: rgba(255,255,255,0.14);
      --text: #e8fcea; /* slightly green-tinted white */
      --text-dim: #a9f5c9;
      --shadow-q: 0 10px 50px rgba(34,197,94,.25);
      --grid-line: #b7f5d1;
      --chart-grid: rgba(74,222,128,.10);
      --chart-grid-weak: rgba(74,222,128,.06);
      --chart-tick: #c5ffde;
      --tooltip-bg: rgba(6,12,10,.92);
      --tooltip-title: #eafff2;
      --tooltip-body: #d5ffe8;
      --tooltip-border: rgba(134,239,172,.25);
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
      color: var(--text);
      background: radial-gradient(1200px 800px at 15% 10%, #0b1a12 0%, transparent 60%),
                  radial-gradient(1000px 900px at 95% 0%, #08140c 0%, transparent 55%),
                  linear-gradient(180deg, #040605 0%, #040605 100%);
      background-color: var(--q-bg-0);
      overflow-x: hidden;
    }

    /* Animated gradient core */
    .animated-bg {
      position: fixed; inset: -20vmax; z-index: -2; filter: blur(80px) saturate(140%); opacity: .5;
      background: conic-gradient(from 180deg at 50% 50%, var(--q-primary), var(--q-secondary), var(--q-accent), var(--q-primary));
      animation: swirl 30s linear infinite;
    }
    @keyframes swirl { to { transform: rotate(360deg); } }

    /* Particles */
    .particles { position: fixed; inset: 0; pointer-events: none; z-index: -1; }
    .dot { position: absolute; width: 2px; height: 2px; background: #86efac; border-radius: 999px; opacity: .8; }

    /* Header */
    header {
      position: sticky; top: 0; z-index: 50; backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(8,12,24,.85), rgba(8,12,24,.6));
      border-bottom: 1px solid var(--glass-border);
    }
    .wrap { max-width: 1200px; margin: 0 auto; padding: .9rem 1.25rem; display: flex; align-items: center; gap: 1rem; }
    .brand { display: flex; align-items: center; gap: .75rem; text-decoration: none; color: var(--text); }
    .wordmark { font-family: Orbitron, Inter, sans-serif; font-weight: 900; letter-spacing: .12em; }
    .wordmark span { background: linear-gradient(90deg, var(--q-primary), var(--q-secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; }

    .logo {
      width: 44px; height: 44px; border-radius: 14px; position: relative; overflow: hidden; box-shadow: 0 0 0 1px #145532, var(--shadow-q);
      background: radial-gradient(120% 120% at 10% 10%, #0f2a1a 0%, #0a1510 60%, #070e0a 100%);
    }
    .logo::before { content: ''; position: absolute; inset: -40%; background: conic-gradient(from 0deg, transparent 0 40%, #22ff88 50%, transparent 60% 100%); animation: spin 5s linear infinite; filter: blur(6px); opacity: .9; }
    .logo::after  { content: 'Z'; position: absolute; inset: 0; display: grid; place-items: center; font-family: Orbitron; font-weight: 900; font-size: 22px; color: #eafff2; text-shadow: 0 0 12px #22ff88; letter-spacing: .08em; }

    nav { margin-left: auto; display: flex; gap: .5rem; flex-wrap: wrap; }
    .nav-btn { position: relative; padding: .55rem .9rem; border-radius: 12px; border: 1px solid var(--glass-border); background: var(--glass); color: var(--text); font-weight: 600; letter-spacing: .02em; cursor: pointer; transition: .25s; }
    .nav-btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-q); border-color: #22c55e55; }
    .nav-btn.active { border-color: #22c55eaa; box-shadow: 0 0 0 1px #22c55e55, var(--shadow-q); background: linear-gradient(180deg, rgba(34,197,94,.12), rgba(34,197,94,.06)); }
    .nav-btn::after { content: ''; position: absolute; left: 12px; right: 12px; bottom: 6px; height: 2px; background: linear-gradient(90deg,var(--q-primary),var(--q-secondary)); transform: scaleX(0); transform-origin: left; transition: transform .25s; opacity: .85; }
    .nav-btn.active::after { transform: scaleX(1); }

    .wallet { display: flex; align-items: center; gap: .6rem; margin-left: .5rem; }
    .pill { padding: .45rem .7rem; border-radius: 999px; background: var(--glass); border: 1px solid var(--glass-border); font-family: 'JetBrains Mono', monospace; font-size: .85rem; color: var(--text-dim); }
    .cta { padding: .6rem 1rem; border-radius: 12px; background: linear-gradient(90deg, var(--q-primary), var(--q-secondary)); border: 0; color: #021412; font-weight: 800; letter-spacing: .04em; cursor: pointer; box-shadow: 0 8px 30px rgba(34,197,94,.35); background-size: 200% 100%; transition: background-position .4s, box-shadow .3s, transform .2s; }
    .cta:hover { background-position: 100% 0; transform: translateY(-1px); box-shadow: 0 12px 40px rgba(34,197,94,.45); }

    /* Hero */
    .hero { max-width: 1200px; margin: 2.5rem auto 1rem; padding: 0 1.25rem; display: grid; gap: 1.5rem; align-items: center; }
    .h-title { font-family: Orbitron, Inter, sans-serif; font-weight: 900; font-size: clamp(2rem, 6vw, 4rem); line-height: 1.1; letter-spacing: .06em; margin: 0; background: linear-gradient(120deg, #eafff2 10%, var(--q-primary) 45%, var(--q-secondary) 60%, #e7ffe3 90%); -webkit-background-clip: text; background-clip: text; color: transparent; animation: sheen 6s ease-in-out infinite; }
    @keyframes sheen { 0%,100% { filter: brightness(1); } 50% { filter: brightness(1.25); } }
    .h-sub { color: var(--text-dim); max-width: 70ch; margin: .35rem 0 0; }

    /* Stats */
    .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; margin-top: 1.2rem; }
    .card { position: relative; background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1rem; overflow: hidden; }
    .card::before { content: ''; position: absolute; inset: -100% -50%; background: radial-gradient(60% 60% at 10% 10%, rgba(74,222,128,.25), transparent 60%); transform: rotate(12deg); opacity: .5; }
    .metric { font-family: Orbitron; font-weight: 900; font-size: clamp(1.3rem, 3.2vw, 2.2rem); letter-spacing: .04em; color: #e5ffef; }
    .label { color: var(--text-dim); font-size: .85rem; margin-top: .3rem; }

    /* Grid */
    .grid { max-width: 1200px; margin: 2rem auto; padding: 0 1.25rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; }
    .tile { background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1.1rem; transition: .25s; backdrop-filter: blur(6px); position: relative; }
    .tile::after { content: ''; position: absolute; inset: 0; border-radius: 16px; pointer-events: none; background: linear-gradient(135deg, rgba(16,185,129,.18), rgba(132,204,22,.18)); opacity: 0; transition: opacity .25s; }
    .tile:hover { transform: translateY(-4px); box-shadow: var(--shadow-q); }
    .tile:hover::after { opacity: 1; }
    .tile h3 { margin: 0 0 .35rem; font-weight: 800; }
    .tile p { margin: 0; color: var(--text-dim); }

    /* Charts */
    .viz { max-width: 1200px; margin: 2rem auto 3rem; padding: 0 1.25rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1rem; }
    .chart { background: var(--glass); border: 1px solid var(--glass-border); border-radius: 16px; padding: 1rem; box-shadow: inset 0 0 0 1px rgba(255,255,255,.04), 0 10px 30px rgba(0,0,0,.35); }

    /* Floating controls */
    .dock { position: fixed; right: 20px; bottom: 22px; display: grid; gap: .6rem; z-index: 40; }
    .fab { width: 52px; height: 52px; border-radius: 16px; border: 1px solid rgba(34,197,94,.35); background: var(--glass); color: var(--text); font-size: 20px; cursor: pointer; backdrop-filter: blur(8px); transition: .25s; box-shadow: 0 4px 20px rgba(0,0,0,.35); }
    .fab:hover { transform: translateY(-2px) scale(1.04); box-shadow: 0 0 0 1px rgba(34,197,94,.35), 0 8px 30px rgba(34,197,94,.25); }

    /* Footer */
    footer {
      border-top: 1px solid var(--glass-border);
      background: linear-gradient(180deg, rgba(8,12,24,.6), rgba(8,12,24,.9));
      padding: 1.2rem;
      text-align: center;
      color: var(--text-dim);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    footer button {
      margin-left: .6rem;
    }

    /* Auth modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:60}
    .dialog{width:min(420px,92vw);background:var(--glass);border:1px solid var(--glass-border);border-radius:16px;padding:1rem}
    .dialog h3{margin:.2rem 0 1rem}
    .dialog .field{margin:.5rem 0}
    .dialog .field label{display:block;margin-bottom:.35rem;color:var(--text-dim);font-size:.9rem}
    .dialog .field input{width:100%;padding:.6rem .7rem;border-radius:12px;border:1px solid var(--glass-border);background:rgba(0,0,0,.25);color:var(--text)}

    /* Toasts */
    .toasts{position:fixed;right:16px;bottom:16px;display:grid;gap:.5rem;z-index:70}
    .toast{min-width:260px;max-width:360px;background:var(--glass);border:1px solid var(--glass-border);backdrop-filter:blur(10px);padding:.75rem .9rem;border-radius:12px;display:flex;align-items:flex-start;gap:.6rem;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .toast.success{border-color:rgba(34,197,94,.6)}
    .toast.error{border-color:rgba(239,68,68,.6)}
    .toast .t-ico{font-size:18px;line-height:1;margin-top:2px}
    .toast .t-msg{flex:1}
    .toast .t-close{background:transparent;border:0;color:var(--text-dim);cursor:pointer}

    /* Language switch button */
    #langBtn{margin-left:.25rem}

    /* Responsive */
    @media (max-width: 860px) { .stats { grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media (max-width: 520px) { nav { display:none; } .wrap { padding: .75rem 1rem; } .stats { grid-template-columns: repeat(2, minmax(150px,1fr)); } }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .animated-bg { animation: none; }
    }

    /* Offset for sticky header when scrolling to anchors */
    #overview, #mining, #rewards, #milestones, #analytics, #terms { scroll-margin-top: 90px; }

    /* Subtle quantum grid overlay */
    .grid-overlay { position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity: .08; background-image:
      linear-gradient(90deg, var(--grid-line) 1px, transparent 1px),
      linear-gradient(var(--grid-line) 1px, transparent 1px);
      background-size: 40px 40px; mix-blend-mode: screen; }

    /* Special styling for grand prize milestone */
    .grand-prize {
      animation: goldGlow 3s ease-in-out infinite alternate;
      position: relative;
      overflow: hidden;
    }
    .grand-prize::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255,215,0,0.1), transparent);
      animation: shimmer 4s linear infinite;
    }
    @keyframes goldGlow {
      0% { box-shadow: 0 0 20px rgba(255,215,0,0.3); }
      100% { box-shadow: 0 0 40px rgba(255,215,0,0.6), 0 0 60px rgba(255,140,0,0.3); }
    }
    @keyframes shimmer {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    /* Music Player Styles */
    .music-player {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 1rem;
      backdrop-filter: blur(12px);
      min-width: 280px;
      z-index: 50;
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.3s ease;
    }
    .music-player.active {
      transform: translateY(0);
      opacity: 1;
    }
    .music-player.collapsed {
      min-width: auto;
      padding: 0.5rem;
    }
    .player-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }
    .player-title {
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--text);
    }
    .player-controls {
      display: flex;
      gap: 0.5rem;
    }
    .player-btn {
      background: none;
      border: none;
      color: var(--text-dim);
      cursor: pointer;
      padding: 0.3rem;
      border-radius: 8px;
      transition: all 0.2s;
      font-size: 1rem;
    }
    .player-btn:hover {
      background: var(--glass);
      color: var(--q-primary);
    }
    .player-info {
      margin-bottom: 0.5rem;
    }
    .track-name {
      font-weight: 600;
      font-size: 0.85rem;
      color: var(--text);
      margin-bottom: 0.2rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .track-artist {
      font-size: 0.75rem;
      color: var(--text-dim);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .progress-bar {
      width: 100%;
      height: 4px;
      background: rgba(255,255,255,0.1);
      border-radius: 2px;
      overflow: hidden;
      margin: 0.5rem 0;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--q-primary), var(--q-secondary));
      width: 0%;
      transition: width 0.1s linear;
    }
    .music-visualizer {
      display: flex;
      align-items: end;
      gap: 2px;
      height: 20px;
      margin-left: 0.5rem;
    }
    .visualizer-bar {
      width: 3px;
      background: var(--q-primary);
      border-radius: 1px;
      animation: visualize 1s ease-in-out infinite alternate;
    }
    .visualizer-bar:nth-child(1) { animation-delay: 0s; }
    .visualizer-bar:nth-child(2) { animation-delay: 0.1s; }
    .visualizer-bar:nth-child(3) { animation-delay: 0.2s; }
    .visualizer-bar:nth-child(4) { animation-delay: 0.3s; }
    @keyframes visualize {
      0% { height: 2px; }
      100% { height: 20px; }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <div class="animated-bg" aria-hidden="true"></div>
  <div class="particles" id="particles" aria-hidden="true"></div>
  <div class="grid-overlay" aria-hidden="true"></div>

  <header>
    <div class="wrap">
      <a class="brand" href="#" aria-label="ZYRA Home">
        <div class="logo" aria-hidden="true"></div>
        <div class="wordmark" aria-hidden="true"><span>ZYRA</span>&nbsp;BLOCKCHAIN</div>
      </a>
      <nav aria-label="Primary">
        <button class="nav-btn" data-target="overview">Overview</button>
        <button class="nav-btn" data-target="mining">Mining</button>
        <button class="nav-btn" data-target="rewards">Rewards</button>
        <button class="nav-btn" data-target="milestones">Milestones</button>
        <button class="nav-btn" data-target="analytics">Analytics</button>
        <button class="nav-btn" data-target="terms">Terms</button>
      </nav>
      <div class="wallet">
        <div id="walletState" class="pill">Active</div>
      </div>
    </div>
  </header>

  <main id="overview" class="hero" role="main">
    <h1 class="h-title">ZYRA Quantum Mining Network</h1>
    <p class="h-sub">Revolutionary quantum-resistant mining ecosystem with virtual rewards. Join thousands of miners earning ZYRA tokens through our advanced quantum computing algorithms. Eco-friendly virtual mining with educational rewards and community milestones. Note: ZYRA tokens are virtual game tokens with no real-world value.</p>

    <section class="stats" aria-label="Key Metrics">
      <div class="card"><div id="statMiners" class="metric">--</div><div class="label">Active Miners</div></div>
      <div class="card"><div id="statMining" class="metric">--</div><div class="label">Network Hashrate</div></div>
      <div class="card"><div id="statRewards" class="metric">--</div><div class="label">Total Rewards Paid</div></div>
      <div class="card"><div id="statAPY" class="metric">--</div><div class="label">Current APY</div></div>
      <div class="card"><div id="statEfficiency" class="metric">--</div><div class="label">Energy Efficiency</div></div>
      <div class="card"><div id="statNextMilestone" class="metric">--</div><div class="label">Next Milestone</div></div>
    </section>
  </main>

  <section class="grid" id="defi">
    <article class="tile">
      <h3>üöÄ Quantum Mining Algorithm</h3>
      <p>Advanced quantum-resistant proof-of-work using lattice-based cryptography. 99.7% energy efficiency compared to traditional mining. Revolutionary algorithm that's both secure and sustainable.</p>
    </article>
    <article class="tile">
      <h3>üí∞ Mining Rewards</h3>
      <p>Earn 5-25 ZYRA tokens per block based on your contribution. Dynamic rewards scale with network participation. Bonus rewards for consistent mining and community milestones.</p>
    </article>
    <article class="tile">
      <h3>üå± Eco-Friendly Protocol</h3>
      <p>Ultra-low power consumption: 0.001% of Bitcoin's energy usage. Sustainable mining powered by quantum efficiency. Green blockchain technology for the future.</p>
    </article>
    <article class="tile">
      <h3>‚ö° Lightning Fast Processing</h3>
      <p>Process thousands of transactions per second with quantum speed. Instant block validation and near-zero latency. Optimized for maximum mining efficiency.</p>
    </article>
  </section>

  <!-- ZYRA Mining Section -->
  <section class="grid" id="mining" aria-label="ZYRA Mining">
    <article class="tile">
      <h3>üîß Mining Setup</h3>
      <p>Simple one-click mining setup. No specialized hardware required - mine with CPU, GPU, or quantum processors. Download our lightweight miner and start earning immediately.</p>
    </article>
    <article class="tile">
      <h3>üìä Mining Dashboard</h3>
      <p>Real-time monitoring of your mining performance, earnings, and efficiency. Track hashrate, power consumption, and profitability with advanced analytics.</p>
    </article>
    <article class="tile">
      <h3>üèÜ Mining Pools</h3>
      <p>Join collaborative mining pools for consistent rewards. Pool rewards distributed fairly based on contribution. Lower variance, steady income for all miners.</p>
    </article>
    <article class="tile">
      <h3>üõ°Ô∏è Security & Validation</h3>
      <p>Quantum-resistant security protocols protect your mining rewards. Advanced fraud detection and automatic payout validation ensure fair mining for everyone.</p>
    </article>
  </section>

  <!-- Rewards Section -->
  <section class="grid" id="rewards" aria-label="Mining Rewards">
    <article class="tile">
      <h3>ÔøΩ Daily Mining Rewards</h3>
      <p><strong>Base Rate:</strong> 5-8 ZYRA per block<br><strong>Performance Bonus:</strong> +20% for top miners<br><strong>Consistency Bonus:</strong> +15% for 30+ days mining</p>
    </article>
    <article class="tile">
      <h3>üéØ Weekly Challenges</h3>
      <p><strong>Mining Streak:</strong> 7 days = 50 ZYRA bonus<br><strong>Efficiency Master:</strong> >90% uptime = 100 ZYRA<br><strong>Community Helper:</strong> Refer miners = 25 ZYRA each</p>
    </article>
    <article class="tile">
      <h3>üöÄ Staking Rewards</h3>
      <p><strong>Stake Mining Rewards:</strong> 12-18% APY<br><strong>Compound Interest:</strong> Auto-reinvest option<br><strong>Lock Periods:</strong> 30, 90, 365 days with increasing rates</p>
    </article>
    <article class="tile">
      <h3>üéÅ Special Bonuses</h3>
      <p><strong>Early Adopter:</strong> 2x rewards for first 1000 miners<br><strong>Quantum Efficiency:</strong> +50% for quantum hardware<br><strong>Green Mining:</strong> +25% for renewable energy</p>
    </article>
  </section>

  <!-- Milestones Section -->
  <section class="grid" id="milestones" aria-label="Community Milestones">
    <div style="grid-column: 1 / -1; background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 12px; padding: 1rem; margin-bottom: 1rem;">
      <p style="margin: 0; font-size: 0.9rem; color: var(--text-dim);">
        üîí <strong>Age & Prize Compliance:</strong> Physical prizes (cash, cars, holidays, etc.) are only available to users 18+ years old. Virtual token rewards have no real-world value. All prizes subject to verification and local regulations.
      </p>
    </div>
    <article class="tile">
      <h3>üéØ 1,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> 500 ZYRA airdrop to all miners<br><strong>Progress:</strong> 847/1,000 (84.7%)<br><strong>Bonus:</strong> Mining difficulty reduction by 10%</p>
    </article>
    <article class="tile">
      <h3>üèÜ 5,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> 2,000 ZYRA airdrop + NFT badge<br><strong>Progress:</strong> 847/5,000 (16.9%)<br><strong>Bonus:</strong> Unlock advanced mining algorithms</p>
    </article>
    <article class="tile">
      <h3>üåü 10,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> 5,000 ZYRA + Exclusive miner status<br><strong>Progress:</strong> 847/10,000 (8.5%)<br><strong>Bonus:</strong> Access to quantum mining beta</p>
    </article>
    <article class="tile">
      <h3>üöÄ 25,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> 10,000 ZYRA + Governance voting rights<br><strong>Progress:</strong> 847/25,000 (3.4%)<br><strong>Bonus:</strong> Mainnet launch preparation rewards</p>
    </article>
    <article class="tile">
      <h3>üí∞ 50,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> $500 Cash Prize (Random Winner)<br><strong>Progress:</strong> 847/50,000 (1.7%)<br><strong>Bonus:</strong> Enhanced staking rewards for all</p>
    </article>
    <article class="tile">
      <h3>üì± 200,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> iPhone 17 (Random Winner)<br><strong>Progress:</strong> 847/200,000 (0.4%)<br><strong>Bonus:</strong> Premium mining features unlocked</p>
    </article>
    <article class="tile">
      <h3>üèùÔ∏è 500,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> $3,000 Holiday Package (Random Winner)<br><strong>Progress:</strong> 847/500,000 (0.2%)<br><strong>Bonus:</strong> VIP mining pool access</p>
    </article>
    <article class="tile">
      <h3>üöó 1,000,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> $30,000 Car (Random Winner)<br><strong>Progress:</strong> 847/1,000,000 (0.08%)<br><strong>Bonus:</strong> Lifetime mining benefits</p>
    </article>
    <article class="tile">
      <h3>üè† 5,000,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> Apartment Prize (Random Winner)<br><strong>Progress:</strong> 847/5,000,000 (0.02%)<br><strong>Bonus:</strong> Master miner status for all</p>
    </article>
    <article class="tile">
      <h3>üíé 10,000,000 Miners Milestone</h3>
      <p><strong>Reward:</strong> $100,000 Cash Prize (Random Winner)<br><strong>Progress:</strong> 847/10,000,000 (0.008%)<br><strong>Bonus:</strong> Quantum mining algorithms</p>
    </article>
    <article class="tile grand-prize" style="border: 2px solid #ffd700; background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.1));">
      <h3>üèÜ 15,000,000 Miners - THE BIG PRIZE</h3>
      <p><strong>üî• GRAND REWARD:</strong> Lamborghini (Random Winner)<br><strong>Progress:</strong> 847/15,000,000 (0.006%)<br><strong>üéâ Ultimate Bonus:</strong> Legendary miner hall of fame</p>
    </article>
  </section>

  <!-- New Security section so the nav button is functional -->
  <section class="viz" id="analytics" aria-label="Mining Analytics">
    <div class="chart">
      <h3 style="margin:.25rem 0 1rem; color:#cfe9ff">Mining Performance</h3>
      <canvas id="chartPerf"></canvas>
    </div>
    <div class="chart">
      <h3 style="margin:.25rem 0 1rem; color:#cfe9ff">Rewards Distribution</h3>
      <canvas id="chartVol"></canvas>
    </div>
  </section>

  <!-- Terms and Conditions Section -->
  <section class="grid" id="terms" aria-label="Terms and Conditions" style="max-width: 800px; margin: 2rem auto; padding: 0 1.25rem;">
    <article class="tile" style="grid-column: 1 / -1;">
      <h3>üìã Terms and Conditions - ZYRA Mining Network</h3>
      <div style="color: var(--text-dim); line-height: 1.6; font-size: 0.9rem;">
        <p><strong>Last Updated:</strong> October 2025 | <strong>Jurisdiction:</strong> Worldwide</p>
        
        <h4 style="color: var(--text); margin-top: 1.5rem;">1. Age Requirements & Eligibility</h4>
        <p>‚Ä¢ <strong>Minimum Age:</strong> Users must be at least 13 years old to participate in ZYRA mining activities</p>
        <p>‚Ä¢ <strong>Minor Restrictions:</strong> Users under 18 years old are prohibited from participating in reward extractions, airdrops, and token withdrawals</p>
        <p>‚Ä¢ <strong>Parental Consent:</strong> Minors (13-17 years) must have explicit parental consent to use the mining platform</p>
        <p>‚Ä¢ <strong>Adult Supervision:</strong> All mining activities by minors must be supervised by a legal guardian</p>

        <h4 style="color: var(--text); margin-top: 1.5rem;">2. Mining Participation</h4>
        <p>‚Ä¢ Mining is available to users worldwide in jurisdictions where cryptocurrency mining is legal</p>
        <p>‚Ä¢ Users are responsible for compliance with local laws and regulations</p>
        <p>‚Ä¢ ZYRA reserves the right to restrict access in certain jurisdictions</p>
        <p>‚Ä¢ Participants must provide accurate age verification when required</p>

        <h4 style="color: var(--text); margin-top: 1.5rem;">3. Reward Restrictions & Prize Eligibility</h4>
        <p>‚Ä¢ <strong>Virtual Tokens:</strong> ZYRA tokens have no real-world value and are for app use only</p>
        <p>‚Ä¢ <strong>Physical Prizes:</strong> Cash, cars, holidays, and physical rewards are only available to users 18+ years old</p>
        <p>‚Ä¢ <strong>Prize Verification:</strong> Winners must provide valid ID and pass verification process</p>
        <p>‚Ä¢ <strong>Random Selection:</strong> Physical prizes awarded through verified random selection from eligible participants</p>
        <p>‚Ä¢ <strong>Tax Responsibility:</strong> Prize winners are responsible for all applicable taxes and fees</p>
        <p>‚Ä¢ <strong>Geographic Restrictions:</strong> Some prizes may not be available in all jurisdictions</p>

        <h4 style="color: var(--text); margin-top: 1.5rem;">4. Token Usage & Value Declaration</h4>
        <p>‚Ä¢ <strong>Application-Only Tokens:</strong> ZYRA tokens are exclusively for use within this application</p>
        <p>‚Ä¢ <strong>No External Value:</strong> Tokens have NO monetary value outside of this platform</p>
        <p>‚Ä¢ <strong>Virtual Currency:</strong> These are virtual game tokens, not cryptocurrency investments</p>
        <p>‚Ä¢ <strong>No Trading:</strong> Tokens cannot be traded, sold, or exchanged for real money</p>
        <p>‚Ä¢ <strong>Entertainment Purpose:</strong> Mining activities are for educational and entertainment purposes only</p>

        <h4 style="color: var(--text); margin-top: 1.5rem;">5. Global Compliance</h4>
        <p>‚Ä¢ These terms comply with GDPR, COPPA, and international data protection laws</p>
        <p>‚Ä¢ Users from restricted jurisdictions are prohibited from participation</p>
        <p>‚Ä¢ Virtual token system does not require KYC/AML procedures</p>
        <p>‚Ä¢ No tax obligations as tokens have no real-world value</p>

        <h4 style="color: var(--text); margin-top: 1.5rem;">6. Platform Responsibilities</h4>
        <p>‚Ä¢ ZYRA implements age verification systems to prevent underage withdrawals</p>
        <p>‚Ä¢ Regular compliance audits ensure adherence to international standards</p>
        <p>‚Ä¢ User education about virtual token nature and lack of real-world value</p>
        <p>‚Ä¢ Technical support is available for eligible participants</p>

        <h4 style="color: var(--text); margin-top: 1.5rem;">7. Acceptance and Updates</h4>
        <p>‚Ä¢ By using ZYRA mining services, users agree to these terms</p>
        <p>‚Ä¢ Terms may be updated to reflect regulatory changes</p>
        <p>‚Ä¢ Continued use constitutes acceptance of updated terms</p>
        <p>‚Ä¢ Users will be notified of significant changes</p>

        <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 1rem; margin-top: 1.5rem;">
          <p style="margin: 0; font-weight: 600; color: var(--q-primary);">
            ‚ö†Ô∏è Important: ZYRA tokens are virtual with NO real value. Physical prizes (cash, cars, holidays) available only to verified users 18+. Random winner selection for all physical rewards.
          </p>
        </div>
      </div>
    </article>
  </section>

  <div class="dock" aria-label="Quick Mining Controls">
    <button class="fab" title="Start Mining" id="btnStart">‚ö°</button>
    <button class="fab" title="Mining Stats" id="btnStats">ÔøΩ</button>
    <button class="fab" title="Rewards" id="btnRewards">ÔøΩ</button>
    <button class="fab" title="Mining Pool" id="btnPool">üèä</button>
    <button class="fab" title="Settings" id="btnSettings">‚öôÔ∏è</button>
  </div>

  <footer>
    <div>¬© 2025 ZYRA Mining Network ‚Ä¢ Virtual token gaming platform ‚Ä¢ Educational purposes only</div>
    <div style="font-size: 0.75rem; color: var(--text-dim);">
      No real-world value ‚Ä¢ Virtual tokens only ‚Ä¢ Minimum age: 13 years | 
      <button class="nav-btn" data-target="terms" style="padding: 0.3rem 0.6rem; font-size: 0.75rem; margin: 0;">View Terms</button>
    </div>
  </footer>

  <!-- Toast container -->
  <div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div>

  <!-- Music Player -->
  <div id="musicPlayer" class="music-player">
    <div class="player-header">
      <div class="player-title">üéµ ZYRA Mining Beats</div>
      <div class="player-controls">
        <button class="player-btn" id="togglePlayer" title="Collapse">‚àí</button>
        <button class="player-btn" id="closePlayer" title="Close">√ó</button>
      </div>
    </div>
    <div id="playerContent">
      <div class="player-info">
        <div class="track-name" id="trackName">Quantum Mining Vibes</div>
        <div class="track-artist" id="trackArtist">ZYRA Official Soundtrack</div>
      </div>
      <div class="progress-bar" id="progressBar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <div style="display: flex; align-items: center; justify-content: space-between;">
        <div style="display: flex; align-items: center; gap: 0.5rem;">
          <button class="player-btn" id="prevTrack">‚èÆ</button>
          <button class="player-btn" id="playPause">‚ñ∂Ô∏è</button>
          <button class="player-btn" id="nextTrack">‚è≠</button>
          <button class="player-btn" id="volumeBtn">üîä</button>
        </div>
        <div class="music-visualizer" id="visualizer">
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
          <div class="visualizer-bar"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Config
    const ZYRA_CONFIG = {
      presale: {
        unitUSD: 0.12,
        targetUnits: 1000000,
        capPerWallet: 500,
        allow: [
          '0x1111111111111111111111111111111111111111',
          '0x2222222222222222222222222222222222222222',
          '0x3333333333333333333333333333333333333333'
        ],
        start: Date.now(), // set your window
        end: Date.now() + 1000*60*60*24*7, // +7 days
        recipient: '0x0000000000000000000000000000000000000000', // set sale wallet/contract
        chainlinkEthUsd: '0x5f4ec3df9cbd43714fe2740f5e3616155c5b8419', // mainnet ETH/USD
        usdc: '0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48', // mainnet USDC
        explorerTx: 'https://etherscan.io/tx/'
      }
    };

    // ZYRA Mining Statistics and Metrics
    (function miningStats(){
      const statMiners = document.getElementById('statMiners');
      const statMining = document.getElementById('statMining');
      const statRewards = document.getElementById('statRewards');
      const statAPY = document.getElementById('statAPY');
      const statEfficiency = document.getElementById('statEfficiency');
      const statNextMilestone = document.getElementById('statNextMilestone');
      
      // Current mining data
      let currentMiners = 847;
      let totalHashrate = 127.3;
      let totalRewardsPaid = 1.24;
      let currentAPY = 16.8;
      let efficiency = 99.7;
      
      // Mining milestones
      const milestones = [
        { target: 1000, reward: '500 ZYRA Airdrop' },
        { target: 5000, reward: '2K ZYRA + NFT' },
        { target: 10000, reward: '5K ZYRA + Status' },
        { target: 25000, reward: '10K ZYRA + Governance' },
        { target: 50000, reward: '$500 Cash Prize' },
        { target: 200000, reward: 'iPhone 17' },
        { target: 500000, reward: '$3K Holiday Package' },
        { target: 1000000, reward: '$30K Car' },
        { target: 5000000, reward: 'Apartment Prize' },
        { target: 10000000, reward: '$100K Cash Prize' },
        { target: 15000000, reward: 'üèÜ LAMBORGHINI üèÜ' }
      ];
      
      function updateMiningStats() {
        // Simulate growing miner base
        currentMiners += Math.floor(Math.random() * 3);
        totalHashrate += (Math.random() * 2 - 1);
        totalRewardsPaid += Math.random() * 0.01;
        currentAPY += (Math.random() * 0.4 - 0.2);
        
        // Update displays
        if(statMiners) statMiners.textContent = currentMiners.toLocaleString();
        if(statMining) statMining.textContent = totalHashrate.toFixed(1) + ' TH/s';
        if(statRewards) statRewards.textContent = totalRewardsPaid.toFixed(2) + 'M ZYRA';
        if(statAPY) statAPY.textContent = Math.max(12, Math.min(25, currentAPY)).toFixed(1) + '%';
        if(statEfficiency) statEfficiency.textContent = efficiency.toFixed(1) + '%';
        
        // Find next milestone
        const nextMilestone = milestones.find(m => m.target > currentMiners);
        if(statNextMilestone && nextMilestone) {
          const remaining = nextMilestone.target - currentMiners;
          statNextMilestone.textContent = remaining.toLocaleString();
        }
      }
      
      // Update mining stats every 5 seconds
      updateMiningStats();
      setInterval(updateMiningStats, 5000);
      
      // Mining milestone notifications
      function checkMilestones() {
        milestones.forEach(milestone => {
          if(currentMiners >= milestone.target && !milestone.achieved) {
            milestone.achieved = true;
            toast('success', `üéâ Milestone reached! ${milestone.target} miners - ${milestone.reward} unlocked!`);
          }
        });
      }
      
      setInterval(checkMilestones, 10000);
    })();

    // Apply presale price labels (can be re-run after overrides load)
    function startMining(){
      // Check age verification first
      const userAge = localStorage.getItem('zyra:userAge');
      if (!userAge) {
        showAgeVerification();
        return;
      }
      
      const age = parseInt(userAge);
      if (age < 13) {
        toast('error', 'Sorry, you must be at least 13 years old to participate in ZYRA mining.');
        return;
      }
      
      toast('success', 'Mining started! You are now earning ZYRA tokens.');
      if (age < 18) {
        toast('info', 'Note: As a minor, your rewards will be held in trust until you turn 18.');
      }
    }

    // Age verification modal
    function showAgeVerification() {
      const modal = document.createElement('div');
      modal.className = 'modal';
      modal.style.display = 'flex';
      modal.innerHTML = `
        <div class="dialog">
          <h3>Age Verification Required</h3>
          <p style="color: var(--text-dim); margin: 0.5rem 0;">To comply with international regulations, please verify your age:</p>
          <div class="field">
            <label for="userAge">Your Age</label>
            <select id="userAge" class="nav-btn" style="width: 100%;">
              <option value="">Select your age</option>
              <option value="under13">Under 13 years old</option>
              <option value="13-17">13-17 years old</option>
              <option value="18+">18 years or older</option>
            </select>
          </div>
          <div style="font-size: 0.8rem; color: var(--text-dim); margin: 0.5rem 0;">
            ‚Ä¢ Minimum age to mine: 13 years<br>
            ‚Ä¢ Minimum age for withdrawals: 18 years<br>
            ‚Ä¢ Minors need parental consent
          </div>
          <div style="display: flex; justify-content: flex-end; gap: 0.5rem; margin-top: 1rem;">
            <button class="nav-btn" onclick="this.closest('.modal').remove()">Cancel</button>
            <button class="cta" onclick="verifyAge()">Confirm</button>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
    }

    function verifyAge() {
      const ageSelect = document.getElementById('userAge');
      const ageValue = ageSelect.value;
      
      if (!ageValue) {
        toast('error', 'Please select your age range.');
        return;
      }
      
      let numericAge;
      switch(ageValue) {
        case 'under13':
          numericAge = 12;
          break;
        case '13-17':
          numericAge = 15; // Average for range
          break;
        case '18+':
          numericAge = 18;
          break;
      }
      
      localStorage.setItem('zyra:userAge', numericAge.toString());
      document.querySelector('.modal').remove();
      
      if (numericAge < 13) {
        toast('error', 'Sorry, you must be at least 13 years old to use ZYRA mining platform.');
        return;
      }
      
      if (numericAge < 18) {
        toast('info', 'Welcome! You can mine virtual ZYRA tokens for educational purposes. Tokens have no real-world value.');
      } else {
        toast('info', 'Welcome! Remember: ZYRA tokens are virtual game tokens with no real-world monetary value.');
      }
      
      startMining();
    }

    // Make verifyAge function global
    window.verifyAge = verifyAge;

    // Optional: load mining configuration
    (async function loadMiningConfig(){
      try {
        const response = await fetch('./mining.config.json');
        if (response.ok) {
          const config = await response.json();
          console.log('Mining configuration loaded:', config);
        }
      } catch(e) {
        // Config file not found, use defaults
      }
    })();

    // Toast notification system
    function toast(type, message, duration = 5000) {
      const container = document.getElementById('toasts');
      if (!container) return;
      
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      
      const icon = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è';
      toast.innerHTML = `
        <div class="t-ico">${icon}</div>
        <div class="t-msg">${message}</div>
        <button class="t-close" onclick="this.parentElement.remove()">√ó</button>
      `;
      
      container.appendChild(toast);
      
      setTimeout(() => {
        if (toast.parentElement) {
          toast.remove();
        }
      }, duration);
    }

    // Initialize everything
    startMining();
    
    // Mining interface functionality
    (function miningInterface(){
      const $ = (id)=> document.getElementById(id);
      
      // Floating action buttons
      const btnMusic = $('btnMusic');
      const btnStats = $('btnStats');
      const btnRewards = $('btnRewards');
      const btnPool = $('btnPool');
      const btnSettings = $('btnSettings');
      
      if(btnMusic) btnMusic.addEventListener('click', () => {
        toggleMusicPlayer();
      });

      if(btnStats) btnStats.addEventListener('click', () => {
        document.getElementById('analytics')?.scrollIntoView({ behavior: 'smooth' });
      });
      
      if(btnRewards) btnRewards.addEventListener('click', () => {
        const userAge = parseInt(localStorage.getItem('zyra:userAge') || '0');
        if (userAge < 18) {
          toast('info', 'Physical prizes (cash, cars, holidays) available when you turn 18. Virtual tokens remain virtual.');
        } else {
          toast('success', 'You are eligible for all milestone prizes including physical rewards!');
        }
        document.getElementById('rewards')?.scrollIntoView({ behavior: 'smooth' });
      });
      
      if(btnPool) btnPool.addEventListener('click', () => {
        toast('info', 'üèä Joining optimal mining pool... Enhanced rewards activated!');
      });
      
      if(btnSettings) btnSettings.addEventListener('click', () => {
        toast('info', '‚öôÔ∏è Mining settings: Quantum mode enabled, max efficiency selected.');
      });
      
      // Navigation functionality
      document.querySelectorAll('.nav-btn[data-target]').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const target = btn.getAttribute('data-target');
          const element = document.getElementById(target);
          if(element) {
            element.scrollIntoView({ behavior: 'smooth' });
            // Update active state
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
          }
        });
      });
    })();

    // Music Player Functionality
    (function musicPlayerInit() {
      let isPlaying = false;
      let currentTrack = 0;
      let isPlayerVisible = false;
      let isPlayerCollapsed = false;
      let progress = 0;
      let volume = 1;
      
      const tracks = [
        {
          name: "Quantum Mining Vibes",
          artist: "ZYRA Official Soundtrack",
          duration: "3:42"
        },
        {
          name: "Blockchain Beats",
          artist: "Crypto Collective",
          duration: "4:15"
        },
        {
          name: "Mining in the Metaverse",
          artist: "Digital Dreams",
          duration: "3:28"
        },
        {
          name: "Token Rush",
          artist: "ZYRA Music Labs",
          duration: "5:01"
        },
        {
          name: "Quantum Frequencies",
          artist: "Cyber Synthwave",
          duration: "4:33"
        }
      ];

      function updateTrackInfo() {
        const track = tracks[currentTrack];
        document.getElementById('trackName').textContent = track.name;
        document.getElementById('trackArtist').textContent = track.artist;
      }

      function updateProgress() {
        if (isPlaying) {
          progress += 0.5;
          if (progress >= 100) {
            progress = 0;
            nextTrack();
          }
          document.getElementById('progressFill').style.width = progress + '%';
        }
      }

      function togglePlay() {
        isPlaying = !isPlaying;
        const playBtn = document.getElementById('playPause');
        const visualizer = document.getElementById('visualizer');
        
        if (isPlaying) {
          playBtn.textContent = '‚è∏Ô∏è';
          visualizer.style.display = 'flex';
          toast('success', 'üéµ Now playing: ' + tracks[currentTrack].name);
        } else {
          playBtn.textContent = '‚ñ∂Ô∏è';
          visualizer.style.display = 'none';
        }
      }

      function nextTrack() {
        currentTrack = (currentTrack + 1) % tracks.length;
        progress = 0;
        updateTrackInfo();
        if (isPlaying) {
          toast('info', 'üéµ Next track: ' + tracks[currentTrack].name);
        }
      }

      function prevTrack() {
        currentTrack = currentTrack === 0 ? tracks.length - 1 : currentTrack - 1;
        progress = 0;
        updateTrackInfo();
        if (isPlaying) {
          toast('info', 'üéµ Previous track: ' + tracks[currentTrack].name);
        }
      }

      function toggleVolume() {
        const volumeBtn = document.getElementById('volumeBtn');
        if (volume === 1) {
          volume = 0;
          volumeBtn.textContent = 'üîá';
          toast('info', 'üîá Music muted');
        } else {
          volume = 1;
          volumeBtn.textContent = 'üîä';
          toast('info', 'üîä Music unmuted');
        }
      }

      window.toggleMusicPlayer = function() {
        const player = document.getElementById('musicPlayer');
        if (!isPlayerVisible) {
          player.classList.add('active');
          isPlayerVisible = true;
          toast('success', 'üéµ Music player opened! Perfect for mining sessions.');
        } else {
          player.classList.remove('active');
          isPlayerVisible = false;
          isPlaying = false;
          document.getElementById('playPause').textContent = '‚ñ∂Ô∏è';
          document.getElementById('visualizer').style.display = 'none';
        }
      };

      function togglePlayerSize() {
        const player = document.getElementById('musicPlayer');
        const content = document.getElementById('playerContent');
        const toggleBtn = document.getElementById('togglePlayer');
        
        if (!isPlayerCollapsed) {
          content.style.display = 'none';
          player.classList.add('collapsed');
          toggleBtn.textContent = '+';
          isPlayerCollapsed = true;
        } else {
          content.style.display = 'block';
          player.classList.remove('collapsed');
          toggleBtn.textContent = '‚àí';
          isPlayerCollapsed = false;
        }
      }

      function closePlayer() {
        const player = document.getElementById('musicPlayer');
        player.classList.remove('active');
        isPlayerVisible = false;
        isPlaying = false;
        document.getElementById('playPause').textContent = '‚ñ∂Ô∏è';
        document.getElementById('visualizer').style.display = 'none';
      }

      // Event listeners
      document.getElementById('playPause').addEventListener('click', togglePlay);
      document.getElementById('nextTrack').addEventListener('click', nextTrack);
      document.getElementById('prevTrack').addEventListener('click', prevTrack);
      document.getElementById('volumeBtn').addEventListener('click', toggleVolume);
      document.getElementById('togglePlayer').addEventListener('click', togglePlayerSize);
      document.getElementById('closePlayer').addEventListener('click', closePlayer);

      // Progress bar click
      document.getElementById('progressBar').addEventListener('click', (e) => {
        const rect = e.target.getBoundingClientRect();
        const clickX = e.clientX - rect.left;
        const newProgress = (clickX / rect.width) * 100;
        progress = newProgress;
        document.getElementById('progressFill').style.width = progress + '%';
      });

      // Initialize
      updateTrackInfo();
      setInterval(updateProgress, 100);

      // Auto-show music player after 3 seconds
      setTimeout(() => {
        if (!isPlayerVisible) {
          toggleMusicPlayer();
        }
      }, 3000);
    })();
  </script>
</body>
</html>
